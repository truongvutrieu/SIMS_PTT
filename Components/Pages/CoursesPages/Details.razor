@page "/courses/details"

@using Microsoft.EntityFrameworkCore
@using BlazorApp3.Models
@inject IDbContextFactory<BlazorApp3.Data.ApplicationDbContext> DbFactory
@inject NavigationManager NavigationManager

<PageTitle>Details</PageTitle>

<h1 class="page-title">Course Details</h1>

<div class="container">
    <h4 class="section-title">Course Information</h4>
    <hr class="divider" />
    @if (courses is null)
    {
        <p><em>Loading...</em></p>
    }
    else
    {
        <!-- Bảng thông tin chi tiết -->
        <table class="table details-table">
            <tbody>
                <tr>
                    <th>Name</th>
                    <td>@courses.Name</td>
                </tr>
                <tr>
                    <th>Start Date</th>
                    <td>@courses.StartDate.ToShortDateString()</td>
                </tr>
                <tr>
                    <th>End Date</th>
                    <td>@courses.EndDate.ToShortDateString()</td>
                </tr>
                <tr>
                    <th>Semester</th>
                    <td>@courses.Semester.Name</td>
                </tr>
                <tr>
                    <th>Lecture</th>
                    <td>@courses.Lecture.Name</td>
                </tr>
                <tr>
                    <th>Subject</th>
                    <td>@courses.Subject.Name</td>
                </tr>
            </tbody>
        </table>
        <div class="button-group">
            <a class="btn btn-outline-success btn-edit" href="@($"/courses/edit?id={courses.Id}")">Edit</a>
            <a class="btn btn-success btn-back" href="@($"/courses")">Back to List</a>
        </div>
    }
</div>

@code {
    Courses? courses;

    [SupplyParameterFromQuery]
    public int Id { get; set; }

    protected override async Task OnInitializedAsync()
    {
        using var context = DbFactory.CreateDbContext();
        courses = await context.Courses
            .Include(m => m.Semester)
            .Include(m => m.Subject)
            .Include(m => m.Lecture)
            .FirstOrDefaultAsync(m => m.Id == Id);

        if (courses is null)
        {
            NavigationManager.NavigateTo("notfound");
        }
    }
}
    <style>
        .page-title {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: #3424A8;
        }

        .section-title {
            font-size: 1.5rem;
            color: #3424A8;
        }

        .divider {
            border-top: 2px solid #3424A8;
            margin-bottom: 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 1rem;
        }

        .details-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }

            .details-table th, .details-table td {
                padding: 0.75rem;
                text-align: left;
                border: 1px solid #dee2e6; /* Viền mặc định */
            }

            .details-table th {
                font-weight: bold;
            }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .btn-edit {
            background-color: #3424A8;
            border-color: #3424A8;
            color: #fff;
            padding: 0.5rem 1rem;
            text-decoration: none;
            border-radius: 0.25rem;
            font-weight: bold;
            display: inline-block;
            text-align: center;
        }

            .btn-edit:hover {
                background-color: #2c1e8e;
                border-color: #2c1e8e;
            }

        .btn-back {
            background-color: #28a745;
            border-color: #28a745;
            color: #fff;
            padding: 0.5rem 1rem;
            text-decoration: none;
            border-radius: 0.25rem;
            font-weight: bold;
        }

            .btn-back:hover {
                background-color: #218838;
                border-color: #1e7e34;
            }
    </style>

